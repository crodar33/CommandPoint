Up time: <?= tmr.time() ?>S<br/>
Battery state:<br/>
<div class='registers'>
    <div>
        Device alarm info: <?= bbVal(0, "<H") ?><br/>
        Operational warning info: <?= bbVal(1, "<H") ?><br/>
        Status: <!-- < ? = bbVal(2, "<H") ?> --> 
            <?= battery.remoteState.registers[3] ?>
            <?= battery.remoteState.registers[3]==0 and "standby" or "" ?>
            <?= battery.remoteState.registers[3]==1 and "discharge" or "" ?>
            <?= battery.remoteState.registers[3]==2 and "charge" or "" ?>
        <br/>
        Voltage: <?= bbVal(3, "<h", 100) ?>U<br/>
        Current: <?= bbVal(4, "<h", 10) ?>A<br/>
        SOC: <?= bbVal(5, "<h") ?><br/>
        SOH: <?= bbVal(6, "<h") ?><br/>
        Cycle Numbers: <?= bbVal(7, "<h") ?><br/>
    </div>
    <div>
        Mode:
        <?= inverterCmdMod==0 and "normal" or "" ?>
        <?= inverterCmdMod==1 and "force change" or "" ?>
        <?= inverterCmdMod==2 and "don't use" or "" ?>
        <?= inverterCmdMod~=0 and (inverterModTimer - tmr.time()) or "" ?>
        <form action="/better-inverter-state" method="post">
            Change state
            <select name="state">
                <option value="0">Normal</option>
                <option value="1">Force charge</option>
                <option value="2">Don't use</option>
            </select>
            Interval <input value="10" name="time"> minutes
            <br>
            <button type="submit">Update</button>
        </form>
    </div>
</div>